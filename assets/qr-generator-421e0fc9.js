import{_ as h,q as f,c as a,b as t,t as m,e as v,v as u,m as _,F as x,r as p,s as I,o as d,u as w}from"./index-5c148276.js";function b(o){return/^-?\d+$/.test(o)}const q={mounted(){let o=localStorage.getItem("vtoolQrText");o&&(document.getElementById("qrText").value=o)},data(){return{qrTextSize:0,scriptLoaded:!1,errorMessage:"",currentImgIdx:0,imgIdx:0,qrMaxSize:2e3,pagingQrTextMap:{},pagingNums:[],viewQrContent:"",qrImgSize:512,qrImgSizeItems:[128,256,512]}},methods:{textSize(o){this.qrTextSize=o.target.value.length},convert(){this.scriptLoaded?this.createQRCode():f("/assets/static/js/plugins/qrcode.min.js").then(()=>{this.scriptLoaded=!0,this.createQRCode()}).catch(o=>{console.error("스크립트 로드 실패:",o)})},createQRCode(){let o=document.getElementById("qrText").value;const e=this.qrMaxSize;localStorage.setItem("vtoolQrText",o);let l="",n=0,r="",i="",s=0,c={};for(let g=0;g<o.length;g++)i=o.charAt(g),!(r==`
`&&i==`
`)&&(b(i)?s++:escape(i).length>4?s+=4:s+=2,l+=i,s>e&&(++n,c[n]=l,s=0,l=""),r=i);l.length>0&&(++n,c[n]=l),this.pagingQrTextMap=c,this.imgIdx=n,this.viewImg(1)},qrImgDownload(){const o=document.getElementById("qrImageViewer"),e=document.createElement("a");e.href=o.toDataURL("image/png"),e.download="canvas-image.png",e.click()},viewPage(o){let e=0;o=="n"?e=this.currentImgIdx+1:e=this.currentImgIdx-1,e=e<1?1:this.imgIdx<=e?this.imgIdx:e,this.viewImg(e)},viewImg(o){this.currentImgIdx=o;let e=0,l=0;o<5?e=1:e=o-4,e+9>=this.imgIdx?l=this.imgIdx:l=e+9,e=l-e==9?e:l-9,e=e<0?1:e;let n=[];for(let i=e;i<=l;i++)n.push(i);this.pagingNums=n;let r=this.pagingQrTextMap[o];this.viewQrContent=r,QRCode.toCanvas(document.getElementById("qrImageViewer"),r,{errorCorrectionLevel:"M",width:this.qrImgSize},i=>{i?(this.errorMessage=i.message,console.error(i)):console.log("QR code generated!")})}}},C={class:"page-heading"},S={class:"page-title"},Q={class:"row"},y={class:"col-12 col-md-6 order-md-1 order-last"},T={class:"section"},k={class:"card"},z={class:"card-body"},M={id:"mainForm"},V={class:"row"},E={class:"col-sm mb-3"},N={class:"mb-3"},B={class:"col-sm row mb-1"},R={class:"col-sm-8"},j={class:"col-sm row"},L={class:"col-sm-8"},D=["value"],P={class:"mb-3 col-sm-12 clearfix"},U={class:"float-end"},A={class:"mb-1"},F={key:0,style:{clear:"both",color:"#ff0707","font-weight":"bold"}},G={class:"col-sm"},H={key:0,"aria-label":"Page navigation"},X={style:{"text-align":"center"}},Z={class:"pagination justify-content-center",style:{"margin-top":"10px"}},J={class:"page-item"},K=["onClick"],O={class:"page-item"},W={class:"float-end"};function Y(o,e,l,n,r,i){return d(),a("div",C,[t("div",S,[t("div",Q,[t("div",y,[t("h3",null,m(o.$t("menu.qr_qenerator")),1),e[10]||(e[10]=t("p",{class:"text-subtitle text-muted"},"Qr Code",-1))])])]),t("section",T,[t("div",k,[t("div",z,[t("form",M,[t("div",V,[t("div",E,[t("div",N,[t("div",B,[e[11]||(e[11]=t("label",{class:"col-sm-4 col-form-label"},"Qr Char Size",-1)),t("div",R,[v(t("input",{type:"number","onUpdate:modelValue":e[0]||(e[0]=s=>r.qrMaxSize=s),class:"form-control",step:"100",max:"2300"},null,512),[[u,r.qrMaxSize]])])]),t("div",j,[e[12]||(e[12]=t("label",{class:"col-sm-4 col-form-label"},"Qr Img Size",-1)),t("div",L,[v(t("select",{"onUpdate:modelValue":e[1]||(e[1]=s=>r.qrImgSize=s),class:"form-control"},[(d(!0),a(x,null,p(r.qrImgSizeItems,s=>(d(),a("option",{value:s},m(s),9,D))),256))],512),[[_,r.qrImgSize]])])])]),t("textarea",{onInput:e[2]||(e[2]=s=>i.textSize(s)),class:"form-control",rows:"9",id:"qrText"},null,32),t("div",P,[t("div",U,[t("div",A,"Char length : "+m(r.qrTextSize),1),t("button",{onClick:e[3]||(e[3]=s=>i.convert()),type:"button",class:"btn btn-light-secondary float-end"},"Convert"),r.errorMessage!=""?(d(),a("div",F,"Error : "+m(r.errorMessage),1)):I("",!0)])])]),t("div",G,[r.imgIdx>1?(d(),a("nav",H,[t("div",X,[t("a",{href:"javascript:;",onClick:e[4]||(e[4]=s=>i.viewPage("p"))},"< Prev"),t("a",{href:"javascript:;",onClick:e[5]||(e[5]=s=>i.viewPage("n")),style:{"margin-left":"10px"}},"Next >")]),t("ul",Z,[t("li",J,[t("a",{class:"page-link",onClick:e[6]||(e[6]=s=>i.viewImg(1))},"1")]),(d(!0),a(x,null,p(r.pagingNums,s=>(d(),a("li",{class:w(["page-item",r.currentImgIdx==s?"active":""])},[t("a",{class:"page-link",href:"javascript:;",onClick:c=>i.viewImg(s)},m(s),9,K)],2))),256)),t("li",O,[t("a",{class:"page-link",onClick:e[7]||(e[7]=s=>i.viewImg(r.imgIdx))},m(r.imgIdx),1)])])])):I("",!0),e[13]||(e[13]=t("div",{class:"mb-3",style:{padding:"15px",width:"100%","min-height":"203px",overflow:"auto",border:"1px solid #dddddd"}},[t("canvas",{id:"qrImageViewer"})],-1)),t("div",W,[t("button",{onClick:e[8]||(e[8]=s=>i.qrImgDownload()),type:"button",class:"btn btn btn-primary"},"download")]),e[14]||(e[14]=t("div",null,"View Qr Text",-1)),v(t("textarea",{class:"form-control",rows:"9","onUpdate:modelValue":e[9]||(e[9]=s=>r.viewQrContent=s)},null,512),[[u,r.viewQrContent]])])])])])])])])}const ee=h(q,[["render",Y]]);export{ee as default};
